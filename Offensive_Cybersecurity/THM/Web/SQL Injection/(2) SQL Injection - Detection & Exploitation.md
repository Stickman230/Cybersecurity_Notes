#SQL #WebInjection 

# Type of attacks

![[SQL_Attacks.svg]]

## In-band SQL Injection

Most common and straightforward type of SQL injection attack. 
*The attacker uses the same communication channel for both the injection and the retrieval of data.*  
**Easy to exploit and detect but noisy and can be easily monitored.**

- **Error-Based SQL Injection**: The attacker manipulates the SQL query to produce error messages from the database. 
	- Example: `SELECT * FROM users WHERE id = 1 AND 1=CONVERT(int, (SELECT @@version))`. If the database version is returned in the error message, it reveals information about the database.
	
- **Union-Based SQL Injection**: The attacker uses the UNION operator to combine the results of two or more SELECT statements into a single result, thereby retrieving data from other tables. 
	- Example: `SELECT name, email FROM users WHERE id = 1 UNION ALL SELECT username, password FROM admin`.

## Inferential (Blind) SQL Injection  

Does not transfer data directly through the web application.  
*The attacker sends payloads and observes the application’s behavior and response times to infer information about the database.*
**More challenging to exploit and requires multiple requests but can be used when detailed error messages are unavailable.**

- **Boolean-Based Blind SQL Injection**: The attacker sends an SQL query to the database, forcing the application to return a different result based on a true or false condition. 
	- Example: `SELECT * FROM users WHERE id = 1 AND 1=1 (true condition) versus SELECT * FROM users WHERE id = 1 AND 1=2 (false condition)`. 
	- Check if the page content or behavior changes based on the condition.

- **Time-Based Blind SQL Injection**:  Delays the response for a specified time if the condition is true. 
	- Example, `SELECT * FROM users WHERE id = 1; IF (1=1) WAITFOR DELAY '00:00:05'--`. 
  
## Out-of-band SQL Injection

Out-of-band SQL injection is used when the attacker cannot use the same channel to launch the attack and gather results.
*The database server needs to make an out-of-band request (e.g., HTTP or DNS) to send the query result to the attacker.*
**Less common and highly effective, requires external server control, and relies on the database’s ability to make out-of-band requests.**
